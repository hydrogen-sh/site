<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>イベント編集</title>

    <script>
        // Firebaseモジュールのインポート
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";
        
        // Firebaseの設定を入力
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_PROJECT_ID.appspot.com",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID",
            measurementId: "YOUR_MEASUREMENT_ID"
        };
        
        // Firebaseの初期化
        const app = initializeApp(firebaseConfig);
        
        // Firestoreのインスタンスを取得
        const db = getFirestore(app);
        
        // フォームの送信処理
        const eventForm = document.getElementById("eventForm");
        eventForm.addEventListener("submit", async (e) => {
            e.preventDefault();
        
            const title = document.getElementById("eventTitle").value;
            const details = document.getElementById("eventDetails").value;
        
            try {
                await addDoc(collection(db, "events"), {
                    title: title,
                    details: details,
                    createdAt: serverTimestamp()
                });
        
                alert("イベントが保存されました。");
                eventForm.reset();
            } catch (error) {
                console.error("Error adding document: ", error);
                alert("エラーが発生しました。");
            }
        });
    </script>
</head>
<body>
    <h1>イベント編集ページ</h1>
    <form id="eventForm">
        <label for="eventTitle">タイトル:</label>
        <input type="text" id="eventTitle" name="eventTitle"><br><br>

        <label for="eventDetails">詳細:</label>
        <textarea id="eventDetails" name="eventDetails"></textarea><br><br>

        <button type="submit">保存</button>
    </form>

    <h2>イベント一覧</h2>
    <div id="eventsList"></div>
</body>
</html>
